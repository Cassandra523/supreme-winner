<!DOCTYPE html>
<html>
    <head>
    <meta charset="utf-8">
    <title>Task 11</title>
    <style>
        span {
            display: inline-block;
            height: 30px;
            line-height: 30px;
            background-color: red;
            margin: 10px 5px;
            padding: 0px 10px;
        }
    </style>
    </head>
    <body>
    <input type="text" id="num">
    <button id="left-in">左侧入</button>
    <button id="right-in">右侧入</button>
    <button id="left-out">左侧出</button>
    <button id="right-out">右侧出</button>
    <div id="queue"></div>
    <script type="text/javascript">
    function leftIn(queue) {//左入
    var num = document.getElementById("num").value;
    if(checkInput(num)) {
        var span = document.createElement("span")
        span.innerHTML = num;
        var spanList = queue.childNodes;
        queue.insertBefore(span,spanList[0]);
     }
 }
    function rightIn(queue) {//右入
    var num = document.getElementById("num").value;
    if(checkInput(num)) {
        var span = document.createElement("span")
        span.innerHTML = num;
        queue.appendChild(span);
     }    
 }
    function leftOut(queue) {//左出
    var childs = queue.childNodes;
    alert(childs[0].innerHTML); 
    queue.removeChild(childs[0]);
 }
    function rightOut(queue) {//右出
    var childs = queue.childNodes;
    alert(childs[childs.length-1].innerHTML);
    queue.removeChild(childs[childs.length-1]);
 }
    function checkInput(num) {
    reg=/^[-+]?\d*$/; //整数的正则表达式
    if(num == "") {
        alert("输入不能为空！");
        return false;
   }else if(!reg.test(num)) {
        alert("只能输入整数！");
        return false;
    }else return true;
}
    function init() {
    var queue = document.getElementById("queue");
    document.getElementById("left-in").onclick = function() {
        leftIn(queue);
    };
    document.getElementById("right-in").onclick = function() {
        rightIn(queue);
    };
    document.getElementById("left-out").onclick = function() {
        leftOut(queue);
    };
    document.getElementById("right-out").onclick = function() {
        rightOut(queue);
    };
    document.getElementById("queue").onclick = function( e ) {
        e = e || window.event;
        var t = e.target || e.srcElement;
        var tagName = t.tagName;　
        if( tagName == 'SPAN' ) {             
            queue.removeChild(t);　
        }
    }
 }
 init();
 </script>
 </body>
 </html>
